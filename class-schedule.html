<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>課表</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/937e93c93c.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://unpkg.com/@popperjs/core@2">
    <link rel="stylesheet" href="./新首頁/home.css">
    <!-- css -->

    <!-- <link rel="stylesheet" href="expenseManage.css"> -->
    <style>
      .cs_table th {
        position: relative;
      }
    
      .cs_table tr:nth-child(2) th:first-child:after  {
        content: "08:10-09:00";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(3) th:first-child:after  {
        content: "09:10-10:00";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(4) th:first-child:after  {
        content: "10:10-11:00";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(5) th:first-child:after  {
        content: "11:10-12:00";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(6) th:first-child:after  {
        content: "12:40-13:30";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(7) th:first-child:after  {
        content: "13:40-14:30";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(8) th:first-child:after  {
        content: "14:40-15:30";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(9) th:first-child:after  {
        content: "15:40-16:30";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(10) th:first-child:after  {
        content: "16:40-17:30";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(11) th:first-child:after  {
        content: "17:40-18:30";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(12) th:first-child:after  {
        content: "18:40-19:30";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(13) th:first-child:after  {
        content: "19:35-20:20";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(14) th:first-child:after  {
        content: "20:30-21:20";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      .cs_table tr:nth-child(15) th:first-child:after  {
        content: "21:25-22:10";
        position: absolute;
        font-size: 12px;
        color: gray;
        bottom: -1em;
        left: 0;
        right: 0;
        text-align: center;
      }
      
    </style>
     
    
</head>
<body> 
  <!--導覽列-->
  <nav class="sidebar">
    <ul>
        <li><a href="#">
            <!-- <i class="fa-solid fa-bars"></i> -->
            <i class="fa-solid fa-house"></i>
            <span class="nav-item">首頁</span>
        </a></li>
        <li><a href="#">
            <i class="fa-solid fa-book"></i>
            <span class="nav-item">筆記</span>
        </a></li>
        <li><a href="#">
            <i class="fa-solid fa-note-sticky"></i>
            <span class="nav-item">便利貼</span>
        </a></li>
        <li><a href="#">
            <i class="fa-solid fa-calendar-days"></i>
            <span class="nav-item">行事曆</span>
        </a></li>
        <li><a href="#">
            <i class="fa-solid fa-comments-dollar"></i>
            <span class="nav-item">記帳</span>
        </a></li>
        <li><a href="#">
            <i class="fa-solid fa-school"></i>
            <span class="nav-item">課表</span>
        </a></li>
        <li><a href="#">
            <i class="fa-solid fa-clock"></i>
            <span class="nav-item">番茄鐘</span>
        </a></li>
        <li><a href="#">
            <i class="fa-solid fa-right-to-bracket"></i>
            <span class="nav-item">登入</span>
        </a></li>
        <li><a href="#" class="logout">
            <i class="fa-solid fa-right-from-bracket"></i>
            <span class="nav-item">登出</span>
        </a></li>
        
    </ul>
</nav>
<!-- END OF SIDEBAR -->

<header class="headbar">
  <div href="#" class="main-link">
      <i class="fa-solid fa-school fa-xl" style="color:white;margin-right: 10px;"></i>
      <div style="color: white;margin-left: 10px;font-size: 20px;margin-top: 10px;margin-bottom: 10px;">課表</div>
      <div style="color: white;margin-left: 400px;font-size: 23px;margin-top: 10px;margin-bottom: 10px;">T4 NoteSystem</div>
  </div>>
  
</header>



  <table id="schedule" class="cs_table" style="margin-top:100px">
    <tr>
      <th></th>
      <th>一</th>
      <th>二</th>
      <th>三</th>
      <th>四</th>
      <th>五</th>
    </tr>
    <tr>
      <th>1</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>N</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    
    <tr>
      <th>5</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>6</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>7</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>8</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>9</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>10</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>11</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>12</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>13</th>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>

  </table>
  
  <!-- 新增課程的表單 -->
  <form id="add-course-form" align="center" class="cs_form">
    <p name="cs_form" style="margin: auto;font-size: 24px;"><b>新增課程</b><br><br></p>
    <label for="course-name" style="font-size: 20px;">課程名&nbsp;</label>
    <input type="text" id="course-name" name="course-name" style="font-size: 19px;text-align: center;border-radius: 8px;" required><br><br>
  
    <label for="day" style="font-size: 19px;">星期&nbsp;</label>
    <select id="day" name="day" style="font-size: 19px;" required>
      <option value="1">一</option>
      <option value="2">二</option>
      <option value="3">三</option>
      <option value="4">四</option>
      <option value="5">五</option>
    </select><br><br>
    <label for="start-time" style="font-size: 19px;">開始節次&nbsp;</label>
    <select id="start-time" name="start-time" style="font-size: 19px;" required>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">N</option>
      <option value="6">5</option>
      <option value="7">6</option>
      <option value="8">7</option>
      <option value="9">8</option>
      <option value="10">9</option>
      <option value="11">10</option>
      <option value="12">11</option>
      <option value="13">12</option>
      <option value="14">13</option>
    </select><br><br>
  
    <label for="end-time" style="font-size: 19px;">結束節次&nbsp;</label>
    <select id="end-time" name="end-time" style="font-size: 19px;" required>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">N</option>
      <option value="6">5</option>
      <option value="7">6</option>
      <option value="8">7</option>
      <option value="9">8</option>
      <option value="9">8</option>
      <option value="10">9</option>
      <option value="11">10</option>
      <option value="12">11</option>
      <option value="13">12</option>
      <option value="14">13</option>
    </select><br><br>

    
    <label for="teacher-name" style="font-size: 19px;" >備註&nbsp;</label>
    <input type="text" id="teacher-name" name="teacher-name" style="font-size: 19px;text-align: center;border-radius: 8px;" required><br><br>

    <input class="finish" type="submit" value="完成" style="width:70px; height:30px;font-size: 18px;border-radius: 8px;background-color:#4c576d;color: white;">
    
    <script>
      window.onload = function() {
      function changeColor() {
      var finish = document.getElementsByClassName("finish")[0];
      finish.classList.add("color-change");
    }

    function restoreColor() {
      var finish = document.getElementsByClassName("finish")[0];
      finish.classList.remove("color-change");
    }}
    </script>
  </form>

  <!-- fixed add button
  <div class="fixed-addbtn">
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop" data-bs-whatever="@金額">
        <i class="fa-solid fa-plus"></i>
    </button>
</div> -->
  <!-- JavaScript -->

  <script>
    const form = document.getElementById('add-course-form');
    const table = document.getElementById('schedule');
    const rows = table.rows; // 取得所有列

    form.addEventListener('submit', (e) => {
  e.preventDefault();
  const courseName = document.getElementById('course-name').value;
  const day = document.getElementById('day').value;
  let startTime = document.getElementById('start-time').value;
  let endTime = document.getElementById('end-time').value;

  const teacherName = document.getElementById('teacher-name').value;

  // 处理开始节次为"N"的情况
  if (startTime === "5") {
    startTime = "N";
    endTime = String(5+ Number(endTime) - 1);
  } else if (startTime === "6" || startTime === "7" || startTime === "8" || startTime === "9" || startTime === "10" || startTime === "11" || startTime === "12" || startTime === "13" || startTime === "14") {
    startTime = String(Number(startTime) - 1);
    endTime = String(Number(endTime) - 1);
  }

  // 寻找要插入课程的位置
  let rowIndex = -1;
  for (let i = 1; i < rows.length; i++) {
    if (rows[i].cells[0].textContent === startTime) {
      rowIndex = i;
      break;
    }
  }

  // 插入课程
  if (rowIndex !== -1) {
  const cell = rows[rowIndex].cells[day];
  cell.rowSpan = Number(endTime) - Number(startTime) + 1;
  cell.innerHTML = '<span class="course">' + courseName + '</span><br><span class="teacher">' + teacherName + '</span>';
  cell.style.backgroundColor = "lightgrey";
}



  // 清空表单
  form.reset();
});


  </script>
  // CSS样式
  <style>
    .course {
      color: black;
    }
    .teacher {
      color: gray;
    }
  </style>
  
  <!---------JAVASCRIPT CODE--------------->
<script src="script.js"></script>
      </body>
